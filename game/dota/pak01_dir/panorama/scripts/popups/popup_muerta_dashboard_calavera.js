"use strict";
/// <reference path="../dota.d.ts" />
/// <reference path="../util.ts" />
/// <reference path="../dota_sequence_actions.ts" />
var flameRevealSeq;
var glowSeq;
var flameLoopingSeq;
var glowLoopingSeq;
const TRANSITION_INTERVAL = 0.02;
const INITIAL_DELAY = 0.2;
const LOOP_START = 45;
const ANIM_END = 134;
var FlameReveal = function (panel_id) {
    let node = $('#' + panel_id);
    node.AddClass('Frame000');
    if (flameLoopingSeq) {
        flameLoopingSeq.finish();
    }
    if (flameRevealSeq) {
        flameRevealSeq.finish();
    }
    flameRevealSeq = new RunSequentialActions();
    flameRevealSeq.actions.push(new WaitAction(INITIAL_DELAY));
    let currentFrame = 1;
    while (currentFrame < LOOP_START) {
        flameRevealSeq.actions.push(new RemoveClassAction(node, 'Frame' + (currentFrame - 1).toString().padStart(3, '0')));
        flameRevealSeq.actions.push(new AddClassAction(node, 'Frame' + currentFrame.toString().padStart(3, '0')));
        flameRevealSeq.actions.push(new WaitAction(TRANSITION_INTERVAL));
        currentFrame++;
    }
    flameLoopingSeq = new RunLoopingActions();
    while (currentFrame <= ANIM_END) {
        flameLoopingSeq.actions.push(new RemoveClassAction(node, 'Frame' + (currentFrame - 1).toString().padStart(3, '0')));
        if (currentFrame <= ANIM_END) {
            flameLoopingSeq.actions.push(new AddClassAction(node, 'Frame' + currentFrame.toString().padStart(3, '0')));
        }
        flameLoopingSeq.actions.push(new WaitAction(TRANSITION_INTERVAL));
        if (currentFrame == ANIM_END) {
            flameLoopingSeq.actions.push(new RemoveClassAction(node, 'Frame' + ANIM_END.toString().padStart(3, '0')));
        }
        currentFrame++;
    }
    flameRevealSeq.actions.push(flameLoopingSeq);
    RunSingleAction(flameRevealSeq);
};
var GlowReveal = function (panel_id) {
    let node = $('#' + panel_id);
    node.AddClass('Frame000');
    if (glowLoopingSeq) {
        glowLoopingSeq.finish();
    }
    if (glowSeq) {
        glowSeq.finish();
    }
    glowSeq = new RunSequentialActions();
    glowSeq.actions.push(new WaitAction(INITIAL_DELAY));
    let currentFrame = 1;
    while (currentFrame < LOOP_START) {
        glowSeq.actions.push(new RemoveClassAction(node, 'Frame' + (currentFrame - 1).toString().padStart(3, '0')));
        glowSeq.actions.push(new AddClassAction(node, 'Frame' + currentFrame.toString().padStart(3, '0')));
        glowSeq.actions.push(new WaitAction(TRANSITION_INTERVAL));
        currentFrame++;
    }
    glowLoopingSeq = new RunLoopingActions();
    while (currentFrame <= ANIM_END) {
        glowLoopingSeq.actions.push(new RemoveClassAction(node, 'Frame' + (currentFrame - 1).toString().padStart(3, '0')));
        if (currentFrame <= ANIM_END) {
            glowLoopingSeq.actions.push(new AddClassAction(node, 'Frame' + currentFrame.toString().padStart(3, '0')));
        }
        glowLoopingSeq.actions.push(new WaitAction(TRANSITION_INTERVAL));
        if (currentFrame == ANIM_END) {
            glowLoopingSeq.actions.push(new RemoveClassAction(node, 'Frame' + ANIM_END.toString().padStart(3, '0')));
        }
        currentFrame++;
    }
    glowSeq.actions.push(glowLoopingSeq);
    RunSingleAction(glowSeq);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG9wdXBfbXVlcnRhX2Rhc2hib2FyZF9jYWxhdmVyYS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL2NvbnRlbnQvZG90YS9wYW5vcmFtYS9zY3JpcHRzL3BvcHVwcy9wb3B1cF9tdWVydGFfZGFzaGJvYXJkX2NhbGF2ZXJhLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxxQ0FBcUM7QUFDckMsbUNBQW1DO0FBQ25DLG9EQUFvRDtBQUVwRCxJQUFJLGNBQWdELENBQUM7QUFDckQsSUFBSSxPQUF5QyxDQUFDO0FBQzlDLElBQUksZUFBOEMsQ0FBQztBQUNuRCxJQUFJLGNBQTZDLENBQUM7QUFFbEQsTUFBTSxtQkFBbUIsR0FBRyxJQUFJLENBQUM7QUFDakMsTUFBTSxhQUFhLEdBQUcsR0FBRyxDQUFDO0FBQzFCLE1BQU0sVUFBVSxHQUFHLEVBQUUsQ0FBQztBQUN0QixNQUFNLFFBQVEsR0FBRyxHQUFHLENBQUM7QUFHckIsSUFBSSxXQUFXLEdBQUcsVUFBVSxRQUFnQjtJQUN4QyxJQUFJLElBQUksR0FBWSxDQUFDLENBQUMsR0FBRyxHQUFHLFFBQVEsQ0FBQyxDQUFDO0lBQ3RDLElBQUksQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLENBQUM7SUFFMUIsSUFBSSxlQUFlLEVBQUU7UUFDakIsZUFBZSxDQUFDLE1BQU0sRUFBRSxDQUFDO0tBQzVCO0lBRUQsSUFBSSxjQUFjLEVBQUU7UUFDaEIsY0FBYyxDQUFDLE1BQU0sRUFBRSxDQUFDO0tBQzNCO0lBRUQsY0FBYyxHQUFHLElBQUksb0JBQW9CLEVBQUUsQ0FBQztJQUM1QyxjQUFjLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLFVBQVUsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDO0lBRTNELElBQUksWUFBWSxHQUFHLENBQUMsQ0FBQztJQUNyQixPQUFPLFlBQVksR0FBRyxVQUFVLEVBQUU7UUFDOUIsY0FBYyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMs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